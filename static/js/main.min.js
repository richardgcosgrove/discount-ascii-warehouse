"use strict";var main=function(){function t(t,o,n){var e;return function(){var r=this,l=arguments,c=function(){e=null,n||t.apply(r,l)},d=n&&!e;clearTimeout(e),e=setTimeout(c,o),d&&t.apply(r,l)}}function o(o,n){o.addEventListener("scroll",t(n,250))}$(document).ready(function(){var n=$(window),e=$(document),r=new CustomEvent("FeedData",{detail:100}),l=document.getElementsByClassName("products")[0];l.addEventListener("FeedData",t(function(){productsController.pendRows(100)},100),!1),n.scroll(function(){e.height()-n.height()<=n.scrollTop()+n.height()&&(productsController.addRows(),productsController.pending.length<1e3&&l.dispatchEvent(r))}),o(window,function(){if(e.height()-n.height()<=n.scrollTop()+n.height())if(productsController.pending.length<1e3){var t=productsController.pendingAction||productsController.pendRows(100);try{t.then(function(){productsController.addRows()})}catch(t){}}else productsController.addRows()})}),$(".sortingPreference").on("change",function(){productsController.changeSort(this.value)}),productsController.load()}();